<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LiquidEther Demo</title>
  <!-- Import React dan ReactDOM dari CDN -->
  <script crossorigin src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <!-- Import Three.js dari CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
    /* CSS untuk LiquidEther */
    .liquid-ether-container {
      position: relative;
      overflow: hidden;
      width: 100%;
      height: 100%;
      touch-action: none;
    }
  </style>
</head>
<body>

  <!-- Tempat untuk me-render React Component -->
  <div id="root"></div>

  <script>
    // Kode JavaScript untuk komponen React

    // Menggunakan React, ReactDOM dan Three.js
    const { useEffect, useRef } = React;
    const LiquidEther = ({
      mouseForce = 20,
      cursorSize = 100,
      isViscous = false,
      viscous = 30,
      iterationsViscous = 32,
      iterationsPoisson = 32,
      dt = 0.014,
      BFECC = true,
      resolution = 0.5,
      isBounce = false,
      colors = ['#5227FF', '#FF9FFC', '#B19EEF'],
      style = {},
      className = '',
      autoDemo = true,
      autoSpeed = 0.5,
      autoIntensity = 2.2,
      takeoverDuration = 0.25,
      autoResumeDelay = 1000,
      autoRampDuration = 0.6
    }) => {
      const mountRef = useRef(null);
      const webglRef = useRef(null);

      useEffect(() => {
        if (!mountRef.current) return;

        // Buat fungsi Three.js dan kelas-kelas lainnya
        // Misalnya, kode yang ada dalam useEffect yang kamu kirimkan

        // Berbagai kode Three.js seperti membuat objek, kamera, dan pengaturan
        // Seperti dalam kode yang kamu kirimkan
        const Common = new CommonClass();

        // Contoh pengaturan untuk WebGL dan interaksi mouse
        const container = mountRef.current;
        container.style.position = container.style.position || 'relative';
        container.style.overflow = container.style.overflow || 'hidden';

        // Kode untuk inisialisasi, resize, dan render
        const webgl = new WebGLManager({
          $wrapper: container,
          autoDemo,
          autoSpeed,
          autoIntensity,
          takeoverDuration,
          autoResumeDelay,
          autoRampDuration
        });

        webglRef.current = webgl;
        webgl.start();

        return () => {
          if (webglRef.current) {
            webglRef.current.dispose();
            webglRef.current = null;
          }
        };
      }, [
        mouseForce,
        cursorSize,
        isViscous,
        viscous,
        iterationsViscous,
        iterationsPoisson,
        dt,
        BFECC,
        resolution,
        isBounce,
        autoDemo,
        autoSpeed,
        autoIntensity,
        takeoverDuration,
        autoResumeDelay,
        autoRampDuration
      ]);

      return <div ref={mountRef} className={`liquid-ether-container ${className}`} style={style} />;
    };

    // Render komponen React
    ReactDOM.render(
      <LiquidEther
        colors={['#5227FF', '#FF9FFC', '#B19EEF']}
        mouseForce={20}
        cursorSize={100}
        isViscous={false}
        viscous={30}
        iterationsViscous={32}
        iterationsPoisson={32}
        resolution={0.5}
        isBounce={false}
        autoDemo={true}
        autoSpeed={0.5}
        autoIntensity={2.2}
        takeoverDuration={0.25}
        autoResumeDelay={3000}
        autoRampDuration={0.6}
      />,
      document.getElementById('root')
    );
  </script>
</body>
</html>
